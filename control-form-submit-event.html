<!DOCTYPE html>
<html>
<head>
  <title>Form POST</title>
</head>
<body>
<form id="form">
  <label>
    text
    <input id="input" name="text">
  </label>
  <input type="submit" name="submit" value="submit">
</form>
<script type="module">
  const form = document.getElementById('form')
  const input = document.getElementById('input')

  // les elements du dom FORM ont un event 'submit' qui se déclenche quand on
  // valide un formulaire
  // On va donc ajouter une fonction à l'écoute de notre évènement submit
  // qui sera appelé à chaque envoi du formulaire
  form.addEventListener('submit', event => {
    // Comme tous les `events`, notre fonction est appellée avec un argument
    // `event` qui contient les infos de l'event

    // Là on a un souci qui est que le comportement de base d'un submit de form
    // fait une requête pour envoyer notre formulaire à un serveur.

    // C'est géré automatiquement sans passer par le JS sauf que là, nous
    // on veut le gérer nous-même et ne pas avoir de rechargement de page.

    // On va appeler la méthode `preventDefault` du paramètre `event`
    event.preventDefault()

    // Parfois quand vous allez gérer un event il faut annuler les comportements
    // par défaut du navigateur pour éviter d'avoir 2 actions
    // qui se déclenchent en meme temps

    // Ensuite je vais récupérer la valeur de mon input
    console.log(input.value) // dispo dans la propriété `value` des inputs

    // A partir de là vous en faites ce que vous voulez ça me regarde pas.
  })
</script>
</body>
</html>
